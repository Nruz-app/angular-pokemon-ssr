import{a as W}from"./chunk-66B4QW7L.js";import{a as B,c as V,d as C}from"./chunk-TWIGWLRH.js";import{$ as f,Aa as A,Ba as c,Da as h,G as O,H as D,Ia as k,N as u,Na as x,Oa as L,R as F,W as _,Ya as z,Z as b,ba as N,da as s,ja as l,la as q,o as g,ra as m,sa as U,ta as $,ua as v,va as y,wa as o,xa as r,ya as a}from"./chunk-PFK54OLX.js";function j(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&F(j);let i=n?e?.injector?.get(_)??u(_):null,M=H(e?.equal),d;e?.requireSync?d=f({kind:0},{equal:M}):d=f({kind:1,value:e?.initialValue},{equal:M});let R=t.subscribe({next:p=>d.set({kind:1,value:p}),error:p=>{if(e?.rejectErrors)throw p;d.set({kind:2,error:p})}});if(e?.requireSync&&d().kind===0)throw new D(601,!1);return i?.onDestroy(R.unsubscribe.bind(R)),x(()=>{let p=d();switch(p.kind){case 1:return p.value;case 2:throw p.error;case 0:throw new D(601,!1)}},{equal:e?.equal})}function H(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}function J(t,e){t&1&&(o(0,"div",1),a(1,"div",2),o(2,"div",3),a(3,"div",4),r()())}var P=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=l({type:t,selectors:[["pokemon-list-skeleton"]],decls:3,vars:0,consts:[[1,"grid","gap-3","grid-cols-1","sm:grid-cols-3","md:grid-cols-5"],[1,"bg-white","h-44","bg-opacity-25","rounded-lg","shadow-md","flex","flex-col","justify-center","items-center","p-4","cursor-pointer"],[1,"rounded-full","animate-pulse","bg-gray-300","w-24","h-24"],[1,"flex","text-center","mt-5"],[1,"h-4","w-20","bg-gray-300","rounded","animate-pulse"]],template:function(n,i){n&1&&(o(0,"div",0),v(1,J,4,0,"div",1,$),r()),n&2&&(s(),y("123457890123456".split("")))},encapsulation:2,changeDetection:0})};var K=t=>["/pokemons",t],S=class t{pokemon=b.required();pokemonImage=x(()=>`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${this.pokemon().id}.png`);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=l({type:t,selectors:[["pokemon-card"]],inputs:{pokemon:[1,"pokemon"]},decls:5,vars:6,consts:[[1,"bg-blue-500","animate-fadeIn","h-44","bg-opacity-25","rounded-lg","shadow-md","flex","flex-col","p-4","items-center","justify-center","cursor-pointer",3,"routerLink"],["width","96px","height","96px",1,"w-24","h-24",3,"alt","src"],[1,"text-center","mt-2"],[1,"text-xl","font-bold","capitalize","text-white"]],template:function(n,i){n&1&&(o(0,"div",0),a(1,"img",1),o(2,"div",2)(3,"h2",3),c(4),r()()()),n&2&&(m("routerLink",k(4,K,i.pokemon().name)),s(),m("alt",`${i.pokemon().name}`)("src",i.pokemonImage(),N),s(3),h(" ",i.pokemon().name," "))},dependencies:[C],encapsulation:2})};var Q=(t,e)=>e.id;function X(t,e){if(t&1&&a(0,"pokemon-card",1),t&2){let n=e.$implicit;m("pokemon",n)}}function Y(t,e){t&1&&(o(0,"div",2),c(1," No hay pok\xE9mons "),r())}var w=class t{pokemons=b.required();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=l({type:t,selectors:[["pokemon-list"]],inputs:{pokemons:[1,"pokemons"]},decls:4,vars:1,consts:[[1,"grid","gap-3","grid-cols-1","sm:grid-cols-3","md:grid-cols-5"],[3,"pokemon"],[1,"col-span-5","text-center","border-white","h-28","flex","justify-center","items-center"]],template:function(n,i){n&1&&(o(0,"div",0),v(1,X,1,1,"pokemon-card",1,Q,!1,Y,2,0,"div",2),r()),n&2&&(s(),y(i.pokemons()))},dependencies:[S],encapsulation:2,changeDetection:0})};var G=t=>["/pokemons/page",t];function Z(t,e){if(t&1&&a(0,"pokemon-list",3),t&2){let n=A();m("pokemons",n.pokemons())}}function ee(t,e){t&1&&a(0,"pokemon-list-skeleton")}var T=class t{pokemonService=u(W);pokemons=f([]);route=u(B);router=u(V);title=u(z);currentPage=j(this.route.params.pipe(g(e=>e.page??"1"),g(e=>isNaN(+e)?1:+e),g(e=>Math.max(1,e))));loadOnPageChanged=L(()=>{let e=this.currentPage();this.loadPokemon(e)},{allowSignalWrites:!0});loadPokemon(e=0){this.pokemonService.loadPage(e).pipe(O(()=>this.title.setTitle(`Pok\xE9mons SSR - Page ${e}`))).subscribe(n=>{this.pokemons.set(n)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=l({type:t,selectors:[["app-pokemons"]],decls:12,vars:8,consts:[[1,"text-3xl"],[1,"text-xl"],[1,"my-2"],[3,"pokemons"],[1,"flex","justify-between"],[1,"mt-2","px-6","py-2","bg-blue-600","text-white","font-semibold","rounded-xl","shadow-md","hover:bg-blue-700","transition","duration-300",3,"routerLink"]],template:function(n,i){n&1&&(o(0,"h1",0),c(1," Listado de Pokemons "),r(),o(2,"h2",1),c(3),r(),a(4,"hr",2),q(5,Z,1,1,"pokemon-list",3)(6,ee,1,0,"pokemon-list-skeleton"),o(7,"div",4)(8,"button",5),c(9," Anteriores "),r(),o(10,"button",5),c(11," Siguientes "),r()()),n&2&&(s(3),h(" Pagina Actual : ",i.currentPage()," "),s(2),U(i.pokemons().length!==0?5:6),s(3),m("routerLink",k(4,G,i.currentPage()-1)),s(2),m("routerLink",k(6,G,i.currentPage()+1)))},dependencies:[w,P,C],encapsulation:2,changeDetection:0})};export{T as default};
